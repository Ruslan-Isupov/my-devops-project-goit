üöÄ AWS GitOps CI/CD Pipeline: Jenkins, Kaniko, Argo CD (Lesson 8)This repository contains a modular Terraform configuration that deploys a complete Continuous Integration/Continuous Deployment (CI/CD) pipeline on AWS EKS following the GitOps methodology.The goal is to automatically build the Django application, push the image to ECR, and ensure its continuous delivery to the cluster via Argo CD.1. üìÅ Project Structure & SetupDirectory / FilePurposemain.tfRoot configuration. Calls EKS, Jenkins, and Argo CD modules.modules/jenkins/Installs Jenkins via Helm. Configures IRSA and stability probes.modules/argo_cd/Installs Argo CD and sets up the Application resource.charts/django-app/Helm chart for the Django application (deployment manifests).JenkinsfileCI Pipeline Script: Defines the build, ECR push, and Git tag update logic.backend.tfDefines the remote state storage (S3 + DynamoDB for locking).2. üöÄ Deployment and ExecutionA. Core Infrastructure Deployment (Terraform)All commands should be run from the root directory (lesson-8).StepCommandDescription1. Initializationterraform initDownloads providers and migrates local state to S3 (if not already done).2. Applyterraform applyCreates/Updates all cloud and Kubernetes resources (EKS, Argo CD, Jenkins).3. Destroyterraform destroyRemoves all AWS resources. (Crucial for cost management).B. EKS Access and MonitoringThe EKS token expires every 15 minutes. Always refresh it before using kubectl:Bashaws eks --region eu-central-1 update-kubeconfig --name lesson-8-cluster
3. ‚úÖ Verification (CI/CD Flow Check)Once the terraform apply is complete and the Jenkins pod is 2/2 Running, you can verify the entire pipeline:üîë Jenkins Access (CI Verification)Use kubectl port-forward to access the UI:Bashkubectl port-forward svc/jenkins -n jenkins 8080:8080
# Access via: http://localhost:8080
Credentials: admin / admin123üîπ Jenkins Job Check:Run Seed Job: On the Dashboard, find seed-job (created by JCasC). Click Build Now.Run Main Pipeline: Once seed-job succeeds, find django-pipeline and click Build Now.Result: The pipeline will build the Docker image and, in the final stage (Update Chart Tag in Git), it will commit the new image tag to the lesson-8-9 branch.üåê Argo CD Verification (CD Check)This verifies the GitOps deployment is working automatically.Access Argo CD: Get the external LoadBalancer address or use port-forwarding:Bashkubectl port-forward svc/argocd-server -n argocd 8081:443
# Access via: https://localhost:8081
Credentials: admin / (Run command to get password)Final Result: The django-app tile must automatically change to Synced and Healthy after Jenkins pushes the new tag to Git. This confirms the application is running in Kubernetes with the latest image.üìù Key GitOps Configuration DetailsParameterValue / LocationDescriptionGit Repositoryhttps://github.com/Ruslan-Isupov/goit-devops.gitSource of truth for both Jenkins and Argo CD.Target Branchlesson-8-9The branch used for all CI/CD operations.ECR Registry155466261957.dkr.ecr.eu-central-1.amazonaws.comDestination for the built Docker image.K8s Service Accountjenkins-saAnnotated with the IRSA role for ECR access.
